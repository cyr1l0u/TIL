# 10장 시퀀스 해킹, 해시, 슬라이스

벡터 공간 모델은 주로 정보 검색 분야에서 이용되며, 핵심 연관성 척도는 코사인 유사도이다. 실제 벡터 연산을 위해서는 NumPy와 SciPy 패키지가 유용하다. [gensim PyPI](https://pypi.python.org/pypi/gensim)은 이 둘을 이용하여 자연어 처리 및 정보 검색을 위한 벡터 공간 모델링을 보여준다.

## 사용자 정의형 Vector2D 예제

```__repr__()```는 디버깅 시에 시스템에서 호출하므로, 결코 예외를 발생시키면 안된다.

## 프로토콜과 덕 타이핑

파이썬에서 완전히 작동하는 시퀀스형을 구현하기 위해서 특별한 클래스를 상속할 필요가 없다. 단지 시퀀스 프로토콜이 필요로 하는 메서드만 구현하면 된다. 시퀀스형임을 선언하지 않았음에도 시퀀스처럼 **동작**하기 때문에 시퀀스인 것이다. 이러한 메커니즘에 대해 알렉스 마르텔리는 **덕 타이핑**이라고 정의하였다. 

프로토콜은 비공식적이며, 강제로 적용되는 개념이 아니므로, 특정 환경에 따라 필요한 메서드만 구현하여 쓰면 된다.

> 덕 타이핑
>
> 그것이 오리인지 조사하지 말라.
>
> 오리 같은 행동의 정확히 어떤 부분을 언어로 표현해야 하는지에 따라 오리처럼 꽥꽥거리는지, 오리처럼 뒤뚱뒤뚱 걷는지 등을 조사하라.
>
> by 알렉스 마르텔리 (2000.07.26, comp.lang.python 뉴스그룹)

## 슬라이스 가능한 벡터 구현

```__len()__```과 ```__getitem__()```를 구현하면 참조와 슬라이스가 기능한다(제대로 동작하는 건 아니다).

### 슬라이스의 작동방식

슬라이스에서 ```1:4```와 같은 표현식은 ```slice(1, 4, None)```이 된다.

```slice```객체의 ```indices```라는 메서드는 생략되거나 음수인 인덱스를 주어진 시퀀스에 맞게 맞추어주는 역할을 한다.

### 슬라이스를 인식하는 ```__getitem__()```

인자로 넘어오는 인덱스의 타입에 따라서 작동 방식을 달리 지정해줘야 한다.